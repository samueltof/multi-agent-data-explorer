example_input_question,example_output_query
"How many patients are enrolled in each clinical trial phase?","SELECT ct.phase, COUNT(DISTINCT te.patient_id) as patient_count FROM clinical_trials ct JOIN trial_enrollment te ON ct.trial_id = te.trial_id GROUP BY ct.phase"
"Find all patients who have a genetic mutation related to their diagnosis","SELECT p.patient_id, p.diagnosis, sd.mutation FROM patients p JOIN sequencing_data sd ON p.patient_id = sd.patient_id WHERE sd.mutation IS NOT NULL"
"What is the average age of patients in each clinical trial?","SELECT ct.trial_name, ROUND(AVG((julianday(te.enrollment_date) - julianday(p.dob))/365.25), 1) as avg_age FROM clinical_trials ct JOIN trial_enrollment te ON ct.trial_id = te.trial_id JOIN patients p ON te.patient_id = p.patient_id GROUP BY ct.trial_name"
"List all drugs that are currently being tested in Phase 3 trials","SELECT DISTINCT d.drug_name, d.manufacturer FROM drugs d JOIN clinical_trials ct ON d.target = ct.condition WHERE ct.phase = 'Phase 3' AND ct.status = 'Active'"
"Find the most common ethnicity among patients with a specific mutation","SELECT p.ethnicity, COUNT(*) as count FROM patients p JOIN sequencing_data sd ON p.patient_id = sd.patient_id WHERE sd.mutation LIKE '%BRCA%' GROUP BY p.ethnicity ORDER BY count DESC LIMIT 1"
"Which principal investigators are running trials for multiple conditions?","SELECT principal_investigator, COUNT(DISTINCT condition) as condition_count FROM clinical_trials GROUP BY principal_investigator HAVING condition_count > 1"
"Find patients who have been enrolled in more than one clinical trial","SELECT p.patient_id, p.first_name, p.last_name, COUNT(DISTINCT te.trial_id) as trial_count FROM patients p JOIN trial_enrollment te ON p.patient_id = te.patient_id GROUP BY p.patient_id HAVING trial_count > 1"
"What is the distribution of patient gender in each trial phase?","SELECT ct.phase, p.gender, COUNT(*) as patient_count FROM clinical_trials ct JOIN trial_enrollment te ON ct.trial_id = te.trial_id JOIN patients p ON te.patient_id = p.patient_id GROUP BY ct.phase, p.gender"
"List all trials that are testing drugs targeting a specific molecular pathway","SELECT ct.trial_name, d.drug_name, d.target FROM clinical_trials ct JOIN drugs d ON ct.condition = d.target WHERE d.mechanism_of_action LIKE '%kinase inhibitor%'"
"Find the average time between sample collection and trial enrollment for each patient","SELECT p.patient_id, ROUND(AVG(julianday(te.enrollment_date) - julianday(sd.date_performed)), 2) as avg_days FROM patients p JOIN sequencing_data sd ON p.patient_id = sd.patient_id JOIN trial_enrollment te ON p.patient_id = te.patient_id GROUP BY p.patient_id"example_input_question,example_output_query"
"How many patients are enrolled in each clinical trial phase?","SELECT ct.phase, COUNT(DISTINCT te.patient_id) as patient_count FROM clinical_trials ct JOIN trial_enrollment te ON ct.trial_id = te.trial_id GROUP BY ct.phase"
"Find all patients who have a genetic mutation related to their diagnosis","SELECT p.patient_id, p.diagnosis, sd.mutation FROM patients p JOIN sequencing_data sd ON p.patient_id = sd.patient_id WHERE sd.mutation IS NOT NULL"
"What is the average age of patients in each clinical trial?","SELECT ct.trial_name, ROUND(AVG((julianday(te.enrollment_date) - julianday(p.dob))/365.25), 1) as avg_age FROM clinical_trials ct JOIN trial_enrollment te ON ct.trial_id = te.trial_id JOIN patients p ON te.patient_id = p.patient_id GROUP BY ct.trial_name"
"List all drugs that are currently being tested in Phase 3 trials","SELECT DISTINCT d.drug_name, d.manufacturer FROM drugs d JOIN clinical_trials ct ON d.target = ct.condition WHERE ct.phase = 'Phase 3' AND ct.status = 'Active'"
"Find the most common ethnicity among patients with a specific mutation","SELECT p.ethnicity, COUNT(*) as count FROM patients p JOIN sequencing_data sd ON p.patient_id = sd.patient_id WHERE sd.mutation LIKE '%BRCA%' GROUP BY p.ethnicity ORDER BY count DESC LIMIT 1"
"Which principal investigators are running trials for multiple conditions?","SELECT principal_investigator, COUNT(DISTINCT condition) as condition_count FROM clinical_trials GROUP BY principal_investigator HAVING condition_count > 1"
"Find patients who have been enrolled in more than one clinical trial","SELECT p.patient_id, p.first_name, p.last_name, COUNT(DISTINCT te.trial_id) as trial_count FROM patients p JOIN trial_enrollment te ON p.patient_id = te.patient_id GROUP BY p.patient_id HAVING trial_count > 1"
"What is the distribution of patient gender in each trial phase?","SELECT ct.phase, p.gender, COUNT(*) as patient_count FROM clinical_trials ct JOIN trial_enrollment te ON ct.trial_id = te.trial_id JOIN patients p ON te.patient_id = p.patient_id GROUP BY ct.phase, p.gender"
"List all trials that are testing drugs targeting a specific molecular pathway","SELECT ct.trial_name, d.drug_name, d.target FROM clinical_trials ct JOIN drugs d ON ct.condition = d.target WHERE d.mechanism_of_action LIKE '%kinase inhibitor%'"
"Find the average time between sample collection and trial enrollment for each patient","SELECT p.patient_id, ROUND(AVG(julianday(te.enrollment_date) - julianday(sd.date_performed)), 2) as avg_days FROM patients p JOIN sequencing_data sd ON p.patient_id = sd.patient_id JOIN trial_enrollment te ON p.patient_id = te.patient_id GROUP BY p.patient_id"